

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>aiolia.components.source package &mdash; Aiolia 0.2.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="aiolia.components.transform package" href="aiolia.components.transform.html" />
    <link rel="prev" title="aiolia.components.sink package" href="aiolia.components.sink.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Aiolia
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Specification</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="aiolia.html">aiolia package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="aiolia.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="aiolia.components.html">aiolia.components package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aiolia.pipelines.html">aiolia.pipelines package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aiolia.utils.html">aiolia.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="aiolia.html#module-aiolia">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Aiolia</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">API Specification</a> &raquo;</li>
        
          <li><a href="aiolia.html">aiolia package</a> &raquo;</li>
        
          <li><a href="aiolia.components.html">aiolia.components package</a> &raquo;</li>
        
      <li>aiolia.components.source package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/aiolia.components.source.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="aiolia-components-source-package">
<h1>aiolia.components.source package<a class="headerlink" href="#aiolia-components-source-package" title="Permalink to this headline">¶</a></h1>
<section id="module-aiolia.components.source.json_source">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-aiolia.components.source.json_source" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="aiolia.components.source.json_source.JsonSource">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">aiolia.components.source.json_source.</span></code><code class="sig-name descname"><span class="pre">JsonSource</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component_pipeline_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_session</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyspark.sql.session.SparkSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_files</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_partition</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'date='</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aiolia.components.source.json_source.JsonSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">aiolia.components.source.source.Source</span></code></p>
<p>Class to extract from Json sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component_pipeline_name</strong> (<em>str</em>) – Name of this component in the pipeline.</p></li>
<li><p><strong>spark_session</strong> (<em>SparkSession</em>) – Spark session provided by the user.</p></li>
<li><p><strong>source_files</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Source files full path name. Can be one
file only or multiple ones, as long as all the paths contain data with
schemas that don’t conflict with each other. Defaults to None.</p></li>
<li><p><strong>base_path</strong> (<em>str</em><em>, </em><em>optional</em>) – The source file base path, used for partitioned
datasets, where passing the base path enables the partition column(s)
to be used on the dataframe. Example: a folder called “/raw/data/”
contains the data to be read and only the folder of the date
“2021-01-01” is needed, so the <cite>source_file</cite> would be
“/raw/data/date=2021-01-01” and <cite>base_path</cite> would be “/raw/data/”.
If the user decides to pass the start or end date, the base path is
necessary to indicate the base folder to search for the partitions.
Defaults to None.</p></li>
<li><p><strong>start_date</strong> (<em>str</em><em>, </em><em>optional</em>) – Start date from where to start reading the data
based on partitioning. If this parameter is passed, the list of source
files is ignored and overwritten with the source files starting from
this date. Defaults to None.</p></li>
<li><p><strong>end_date</strong> (<em>str</em><em>, </em><em>optional</em>) – End date from where to end reading the data based
on partitioning. If this parameter is passed, the list of source
files is ignored and overwritten with the source files ending to
this date. Defaults to None.</p></li>
<li><p><strong>date_partition</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the date partition of the source
data. Usually it’s a prefix like “date=”. Defaults to “date=”.</p></li>
<li><p><strong>details</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary containing extra details for the
pipeline execution. Some execution flows need some specific configs to
work correctly, like “temp_table_name” key for the SQLTransform use.
Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="aiolia.components.source.json_source.JsonSource.execute">
<code class="sig-name descname"><span class="pre">execute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aiolia.components.source.json_source.JsonSource.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the source into the data container and returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>containers</strong> (<em>List</em><em>[</em><a class="reference internal" href="aiolia.components.html#aiolia.components.data_container.DataContainer" title="aiolia.components.data_container.DataContainer"><em>DataContainer</em></a><em>]</em>) – A Source component expects only one
initialized container to store the data and the details, so only the
first list element will be used, assuming that the only element on the
list is a DataContainer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataContainer with the data and execution status.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>container (<a class="reference internal" href="aiolia.components.html#aiolia.components.data_container.DataContainer" title="aiolia.components.data_container.DataContainer">DataContainer</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-aiolia.components.source">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-aiolia.components.source" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="aiolia.components.source.CSVSource">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">aiolia.components.source.</span></code><code class="sig-name descname"><span class="pre">CSVSource</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component_pipeline_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_session</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyspark.sql.session.SparkSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_files</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_partition</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'date='</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_options</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_file_per_file</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aiolia.components.source.CSVSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">aiolia.components.source.source.Source</span></code></p>
<p>Class to extract from CSV sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component_pipeline_name</strong> (<em>str</em>) – Name of this component in the pipeline.</p></li>
<li><p><strong>spark_session</strong> (<em>SparkSession</em>) – Spark session provided by the user.</p></li>
<li><p><strong>source_files</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Source files full path name. Can be one
file only or multiple ones, as long as all the paths contain data with
schemas that don’t conflict with each other. Defaults to None.</p></li>
<li><p><strong>base_path</strong> (<em>str</em><em>, </em><em>optional</em>) – The source file base path, used for partitioned
datasets, where passing the base path enables the partition column(s)
to be used on the dataframe. Example: a folder called “/raw/data/”
contains the data to be read and only the folder of the date
“2021-01-01” is needed, so the <cite>source_file</cite> would be
“/raw/data/date=2021-01-01” and <cite>base_path</cite> would be “/raw/data/”.
If the user decides to pass the start or end date, the base path is
necessary to indicate the base folder to search for the partitions.
Defaults to None.</p></li>
<li><p><strong>start_date</strong> (<em>str</em><em>, </em><em>optional</em>) – Start date from where to start reading the data
based on partitioning. If this parameter is passed, the list of source
files is ignored and overwritten with the source files starting from
this date. Defaults to None.</p></li>
<li><p><strong>end_date</strong> (<em>str</em><em>, </em><em>optional</em>) – End date from where to end reading the data based
on partitioning. If this parameter is passed, the list of source
files is ignored and overwritten with the source files ending to
this date. Defaults to None.</p></li>
<li><p><strong>date_partition</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the date partition of the source
data. Usually it’s a prefix, like “date=”. Defaults to “date=”.</p></li>
<li><p><strong>read_options</strong> (<em>dict</em><em>, </em><em>optional</em>) – CSV read options, like delimiter, infer
schema and etc. Defaults to None.</p></li>
<li><p><strong>read_file_per_file</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, each file in the file provided
file list is read individually with the desired schema. This is necessary
for multiple files with different schemas. Defaults to False.</p></li>
<li><p><strong>schema</strong> (<em>str</em><em>, </em><em>optional</em>) – Schema file path, applied to the read files. If the
“read_file_per_file” is set to True, the schema is used to parse each file
individually, filling missing columns with null. Defaults to None.</p></li>
<li><p><strong>details</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary containing extra details for the
pipeline execution. Some execution flows need some specific configs to
work correctly, like “temp_table_name” key for the SQLTransform use.
Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="aiolia.components.source.CSVSource.execute">
<code class="sig-name descname"><span class="pre">execute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aiolia.components.source.CSVSource.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the source into the data container and returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>containers</strong> (<em>List</em><em>[</em><a class="reference internal" href="aiolia.components.html#aiolia.components.data_container.DataContainer" title="aiolia.components.data_container.DataContainer"><em>DataContainer</em></a><em>]</em>) – A Source component expects only one
initialized container to store the data and the details, so only the
first list element will be used, assuming that the only element on the
list is a DataContainer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataContainer with the data and execution status.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>container (<a class="reference internal" href="aiolia.components.html#aiolia.components.data_container.DataContainer" title="aiolia.components.data_container.DataContainer">DataContainer</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="aiolia.components.source.EmptySource">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">aiolia.components.source.</span></code><code class="sig-name descname"><span class="pre">EmptySource</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component_pipeline_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_session</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyspark.sql.session.SparkSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aiolia.components.source.EmptySource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">aiolia.components.source.source.Source</span></code></p>
<p>Class to create an empty df with a schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component_pipeline_name</strong> (<em>str</em>) – Name of this component in the pipeline.</p></li>
<li><p><strong>spark_session</strong> (<em>SparkSession</em>) – Spark session provided by the user.</p></li>
<li><p><strong>schema</strong> (<em>str</em><em>, </em><em>optional</em>) – Spark style schema, written in json to be
converted to a proper schema object. Needs to be a path to a file
containing the schema in json format. Defaults to None.</p></li>
<li><p><strong>details</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary containing extra details for the
pipeline execution. Some execution flows need some specific configs to
work correctly, like “temp_table_name” key for the SQLTransform use.
Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="aiolia.components.source.EmptySource.execute">
<code class="sig-name descname"><span class="pre">execute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aiolia.components.source.EmptySource.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an empty df and applies the schema to it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>containers</strong> (<em>List</em><em>[</em><a class="reference internal" href="aiolia.components.html#aiolia.components.data_container.DataContainer" title="aiolia.components.data_container.DataContainer"><em>DataContainer</em></a><em>]</em>) – A Source component expects only one
initialized container to store the data and the details, so only the
first list element will be used, assuming that the only element on the
list is a DataContainer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataContainer with the data and execution status.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>container (<a class="reference internal" href="aiolia.components.html#aiolia.components.data_container.DataContainer" title="aiolia.components.data_container.DataContainer">DataContainer</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="aiolia.components.source.JsonSource">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">aiolia.components.source.</span></code><code class="sig-name descname"><span class="pre">JsonSource</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component_pipeline_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_session</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyspark.sql.session.SparkSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_files</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_partition</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'date='</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aiolia.components.source.JsonSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">aiolia.components.source.source.Source</span></code></p>
<p>Class to extract from Json sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component_pipeline_name</strong> (<em>str</em>) – Name of this component in the pipeline.</p></li>
<li><p><strong>spark_session</strong> (<em>SparkSession</em>) – Spark session provided by the user.</p></li>
<li><p><strong>source_files</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Source files full path name. Can be one
file only or multiple ones, as long as all the paths contain data with
schemas that don’t conflict with each other. Defaults to None.</p></li>
<li><p><strong>base_path</strong> (<em>str</em><em>, </em><em>optional</em>) – The source file base path, used for partitioned
datasets, where passing the base path enables the partition column(s)
to be used on the dataframe. Example: a folder called “/raw/data/”
contains the data to be read and only the folder of the date
“2021-01-01” is needed, so the <cite>source_file</cite> would be
“/raw/data/date=2021-01-01” and <cite>base_path</cite> would be “/raw/data/”.
If the user decides to pass the start or end date, the base path is
necessary to indicate the base folder to search for the partitions.
Defaults to None.</p></li>
<li><p><strong>start_date</strong> (<em>str</em><em>, </em><em>optional</em>) – Start date from where to start reading the data
based on partitioning. If this parameter is passed, the list of source
files is ignored and overwritten with the source files starting from
this date. Defaults to None.</p></li>
<li><p><strong>end_date</strong> (<em>str</em><em>, </em><em>optional</em>) – End date from where to end reading the data based
on partitioning. If this parameter is passed, the list of source
files is ignored and overwritten with the source files ending to
this date. Defaults to None.</p></li>
<li><p><strong>date_partition</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the date partition of the source
data. Usually it’s a prefix like “date=”. Defaults to “date=”.</p></li>
<li><p><strong>details</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary containing extra details for the
pipeline execution. Some execution flows need some specific configs to
work correctly, like “temp_table_name” key for the SQLTransform use.
Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="aiolia.components.source.JsonSource.execute">
<code class="sig-name descname"><span class="pre">execute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aiolia.components.source.JsonSource.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the source into the data container and returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>containers</strong> (<em>List</em><em>[</em><a class="reference internal" href="aiolia.components.html#aiolia.components.data_container.DataContainer" title="aiolia.components.data_container.DataContainer"><em>DataContainer</em></a><em>]</em>) – A Source component expects only one
initialized container to store the data and the details, so only the
first list element will be used, assuming that the only element on the
list is a DataContainer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataContainer with the data and execution status.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>container (<a class="reference internal" href="aiolia.components.html#aiolia.components.data_container.DataContainer" title="aiolia.components.data_container.DataContainer">DataContainer</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="aiolia.components.transform.html" class="btn btn-neutral float-right" title="aiolia.components.transform package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="aiolia.components.sink.html" class="btn btn-neutral float-left" title="aiolia.components.sink package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Data Engineers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>